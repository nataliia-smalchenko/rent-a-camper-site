{"version":3,"file":"static/js/22.e9098df2.chunk.js","mappings":"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","sources":["webpack://test-task/./src/pages/FavoritesPage/FavoritesPage.module.css?ff2b","webpack://test-task/./src/components/Modal/Modal.module.css?28d7","components/Modal/Modal.jsx","pages/FavoritesPage/FavoritesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list-wrapper\":\"FavoritesPage_list-wrapper__41+fK\",\"list\":\"FavoritesPage_list__JFypb\",\"button\":\"FavoritesPage_button__zlmsT\"};","// extracted by mini-css-extract-plugin\nexport default {\"backdrop\":\"Modal_backdrop__xTnIT\",\"modal\":\"Modal_modal__DJDMv\",\"img\":\"Modal_img__20InI\",\"title-wrapper\":\"Modal_title-wrapper__Up6Y2\",\"title\":\"Modal_title__3HkNf\",\"price-wrapper\":\"Modal_price-wrapper__40DS7\",\"price\":\"Modal_price__L7oyL\",\"favorite-button\":\"Modal_favorite-button__NKRhZ\",\"icon-favorite\":\"Modal_icon-favorite__fDOL2\",\"active\":\"Modal_active__-p53x\",\"loc-price-wrapper\":\"Modal_loc-price-wrapper__fy0+T\",\"tag\":\"Modal_tag__MB6xD\",\"icon\":\"Modal_icon__2UpwH\",\"rating\":\"Modal_rating__VqVBA\",\"descr\":\"Modal_descr__OIW3t\",\"details\":\"Modal_details__v-Ol9\"};","import Tag from 'components/Tag/Tag';\nimport sprite from '../../images/sprite.svg';\nimport css from './Modal.module.css';\nimport { useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { toggleModal } from 'store/advertsSlice';\n\nconst Modal = props => {\n  const dispatch = useDispatch();\n\n  const closeModal = evt => {\n    if (evt.target === evt.currentTarget) {\n      dispatch(toggleModal(''));\n    }\n  };\n\n  useEffect(() => {\n    const closeByEscape = evt => {\n      if (evt.code === 'Escape') {\n        dispatch(toggleModal(''));\n      }\n    };\n\n    document.addEventListener('keydown', closeByEscape);\n    return () => {\n      document.removeEventListener('keydown', closeByEscape);\n    };\n  }, [dispatch]);\n\n  return (\n    <div className={css.backdrop} onClick={closeModal}>\n      <div className={css.modal}>\n        <ul>\n          <li>\n            <img\n              className={css.img}\n              src={props.item.gallery[0] ?? '../../images/no-image.jpg'}\n              alt=\"\"\n            />\n          </li>\n          <li>\n            <img\n              className={css.img}\n              src={props.item.gallery[1] ?? '../../images/no-image.jpg'}\n              alt=\"\"\n            />\n          </li>\n          <li>\n            <img\n              className={css.img}\n              src={props.item.gallery[2] ?? '../../images/no-image.jpg'}\n              alt=\"\"\n            />\n          </li>\n        </ul>\n        <div className={css['descr-wrapper']}>\n          <div className={css['title-wrapper']}>\n            <h3 className={css.title}>{props.item.name}</h3>\n\n            <span className={css.price}>\n              {'â‚¬' + props.item.price.toFixed(2)}\n            </span>\n          </div>\n          <div className={css['loc-price-wrapper']}>\n            <div className={css.tag}>\n              <svg className={css.icon} width=\"16\" height=\"16\">\n                <use href={sprite + '#icon-star'} />\n              </svg>\n              <span\n                className={css.rating}\n              >{`${props.item.rating} (${props.item.reviews.length} Reviews)`}</span>\n            </div>\n            <div className={css.tag}>\n              <svg className={css.icon} width=\"16\" height=\"16\">\n                <use href={sprite + '#icon-map-pin'} />\n              </svg>\n              <span>{props.item.location}</span>\n            </div>\n          </div>\n          <p className={css.descr}>{props.item.description}</p>\n          <ul className={css.details}>\n            <Tag\n              icon=\"#icon-peoples\"\n              text={\n                props.item.adults +\n                (props.item.adults > 1 ? ' adults' : ' adult')\n              }\n            />\n            <Tag icon=\"#icon-transmission\" text={props.item.transmission} />\n            <Tag icon=\"#icon-engine\" text={props.item.engine} />\n            {props.item.details.kitchen > 0 && (\n              <Tag icon=\"#icon-kitchen\" text=\"kitchen\" />\n            )}\n            <Tag\n              icon=\"#icon-beds\"\n              text={\n                props.item.details.beds +\n                (props.item.details.beds > 1 ? ' beds' : ' bed')\n              }\n            />\n            {props.item.details.airConditioner > 0 && (\n              <Tag icon=\"#icon-air\" text=\"AC\" />\n            )}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import CamperCard from 'components/CamperCard/CamperCard';\nimport { useEffect, useState } from 'react';\nimport css from './FavoritesPage.module.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectCamperById,\n  selectModalShowId,\n  selectVisibleAdverts,\n} from 'store/selectors';\nimport Button from 'components/Button/Button';\nimport { fetchAdverts } from 'store/api';\nimport Modal from 'components/Modal/Modal';\n\nconst FavoritesPage = () => {\n  const [page, setPage] = useState(1);\n  const visibleAdverts = useSelector(selectVisibleAdverts);\n  const dispatch = useDispatch();\n  const showModal = useSelector(selectModalShowId);\n  const selectedCamper = useSelector(selectCamperById);\n\n  const pageChange = () => {\n    setPage(prev => prev + 1);\n  };\n\n  useEffect(() => {\n    dispatch(fetchAdverts());\n  }, [dispatch]);\n\n  return (\n    <section>\n      <div className={css['list-wrapper']}>\n        <ul className={css.list}>\n          {visibleAdverts.slice(0, page * 4).map(item => {\n            return <CamperCard key={item._id} item={item}></CamperCard>;\n          })}\n        </ul>\n        {visibleAdverts.length / 4 > page && (\n          <Button\n            class={css.button}\n            text=\"Load more\"\n            type=\"button\"\n            loadMore=\"true\"\n            onClick={pageChange}\n          />\n        )}\n      </div>\n      {showModal && <Modal item={selectedCamper} />}\n    </section>\n  );\n};\n\nexport default FavoritesPage;\n"],"names":["props","_props$item$gallery$","_props$item$gallery$2","_props$item$gallery$3","dispatch","useDispatch","useEffect","closeByEscape","evt","code","toggleModal","document","addEventListener","removeEventListener","_jsx","className","css","onClick","target","currentTarget","children","_jsxs","src","item","gallery","alt","name","price","toFixed","width","height","href","sprite","concat","rating","reviews","length","location","description","Tag","icon","text","adults","transmission","engine","details","kitchen","beds","airConditioner","_useState","useState","_useState2","_slicedToArray","page","setPage","visibleAdverts","useSelector","selectVisibleAdverts","showModal","selectModalShowId","selectedCamper","selectCamperById","fetchAdverts","slice","map","CamperCard","_id","Button","class","type","loadMore","prev","Modal"],"sourceRoot":""}